let nu = new Date();

nu.setMinutes(0, 0, 0);

nu = nu.toISOString();

nu = nu.substring(0, nu.indexOf(':'));


// check if current hour price is above prisTak

let nordpoolArray = global.get("NordpoolTrimmed") || [];




let matchingElement = nordpoolArray.find(element => element.timestamp === nu);

if (matchingElement === nu) {
    // Do something with the matching element
    msg.payload = true;
    node.warn(`Found matching element: ${JSON.stringify(matchingElement)}`);
} else {
    node.warn(`No matching element found ${JSON.stringify(matchingElement)}`);
    msg.payload = false;
}

return msg;